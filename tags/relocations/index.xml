<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>relocations on</title><link>https://pietraferreira.github.io/quartz/tags/relocations/</link><description>Recent content in relocations on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://pietraferreira.github.io/quartz/tags/relocations/index.xml" rel="self" type="application/rss+xml"/><item><title>2022-06-02</title><link>https://pietraferreira.github.io/quartz/notes/daily/2022-06-02/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/daily/2022-06-02/</guid><description>2022-06-02 Assuming we already have RELOCID in place:
There is a bool pretend_im_corev in gas/config/tc-riscv.c which sets the relocation as CORE-V.</description></item><item><title>2022-06-17 - Jeremy Relocation Notes</title><link>https://pietraferreira.github.io/quartz/notes/daily/2022-06-17-jeremy-relocation-notes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/daily/2022-06-17-jeremy-relocation-notes/</guid><description>2022-06-17 end of linker -&amp;gt; introduce the issue of being no mechanism for vendor specific relocation -&amp;gt; discuss issue of relocations, we can do vendor specific but not vendor specific relocations.</description></item><item><title>2022-06-23</title><link>https://pietraferreira.github.io/quartz/notes/daily/2022-06-23/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/daily/2022-06-23/</guid><description>2022-06-23 I think I am getting this error:
1 2 ../bfd/.libs/libbfd.a(elf32-riscv.o): In function `perform_relocation&amp;#39;: /home/pietraferreira/corev/build/binutils-gdb/bfd/elfnn-riscv.c:1653: undefined reference to `riscv_elf_custom_relocid&amp;#39; Because riscv_elf_custom_relocid is being called from inside perform_relocation, thus it doesn&amp;rsquo;t exist in that space.</description></item><item><title>2022-07-04</title><link>https://pietraferreira.github.io/quartz/notes/daily/2022-07-04/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/daily/2022-07-04/</guid><description>2022-07-04 CORE-V We have a static relocation in bfd/elfnn-riscv.c (perform_relocation) which switches on the instruction type and encodes the instruction.</description></item><item><title>2022-07-07</title><link>https://pietraferreira.github.io/quartz/notes/daily/2022-07-07/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/daily/2022-07-07/</guid><description>2022-07-07 Flag to ignore main: 1 --defsym=main=0x100 To ignore _start: 1 -nostartfiles RelocID Pass *howto: 1 {type = 224, size = 2, bitsize = 32, rightshift = 1, bitpos = 0, complain_on_overflow = complain_overflow_unsigned, negate = 0, pc_relative = 1, partial_inplace = 0, pcrel_offset = 1, src_mask = 0, dst_mask = 4293918720, special_function = 0x5555555cb8e0 &amp;lt;bfd_elf_generic_reloc&amp;gt;, name = 0x5555556c7506 &amp;#34;R_RISCV_CVPCREL_UI12&amp;#34;} *rel: 1 {r_offset = 2, r_info = 1504, r_addend = 0} value: 3145728 We first do CVPCREL with the *howto:</description></item><item><title>Fixups</title><link>https://pietraferreira.github.io/quartz/notes/fixups/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/fixups/</guid><description>Fix-ups Fix-ups are used to represent information in instructions which is currently unknown. During instruction encoding, if some information is unknown (such as a memory location of an external symbol), it is encoded as if the value is equal to 0 and a fix-up is emitted which contains information on how to rewrite the value when information is known.</description></item><item><title>GNU</title><link>https://pietraferreira.github.io/quartz/notes/gnu/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/gnu/</guid><description>GNU Extensive collection of free software which can be used as an operating system or in parts with other operating systems.</description></item><item><title>How to add an instruction to the GNU assembler</title><link>https://pietraferreira.github.io/quartz/notes/how-to-add-instructions-to-as/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/how-to-add-instructions-to-as/</guid><description>How to add an instruction to the GNU assembler We can use cv.starti as an example. It is part of the hardware loops extension and declares the address of the offset to the start of the loop as well as the loop number, 0 or 1 depending if it is an inner or outer loop.</description></item><item><title>Howto Table</title><link>https://pietraferreira.github.io/quartz/notes/howto-table/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/howto-table/</guid><description>Howto Table The [[notes/general/relocations|relocation]] table records the list of items that the file needs (from other object files or libraries).</description></item><item><title>Jump Table</title><link>https://pietraferreira.github.io/quartz/notes/jump-table/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/jump-table/</guid><description>Jump Table It can either be an array of pointers to functions or an array of machine code jump instructions.</description></item><item><title>PLT and GOT</title><link>https://pietraferreira.github.io/quartz/notes/plt-and-got/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/plt-and-got/</guid><description>Procedure Linkage Table and Global Offset Table If a program receives an incorrect input for example, it terminates, rendering useless all of the relocation work performed by the [[notes/general/linker|dynamic linker]].</description></item><item><title>Relocation Prototype</title><link>https://pietraferreira.github.io/quartz/notes/private/work/relocation-prototype/relocation-prototype/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/private/work/relocation-prototype/relocation-prototype/</guid><description>Relocation Handling Prototype Introduction to the project needed for future psABI meeting eg: in COREV we have custom relocations that live in the reserved space, but we need to be able to share that reserved space with other tool chains.</description></item><item><title>Relocations</title><link>https://pietraferreira.github.io/quartz/notes/relocations/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/relocations/</guid><description>Relocations Different programs will be different sizes, so when the shared library gets mapped into the address space of different programs, it will be at different addresses.</description></item><item><title>Relocations - COREV</title><link>https://pietraferreira.github.io/quartz/notes/daily/relocations-corev/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/daily/relocations-corev/</guid><description>Relocations - COREV what is complain and overflow?
howto_table in bfd/elfxx-riscv.c
what is size? bitsize? pc relative is a pc relative rellocation</description></item><item><title>Testing Relaxation - COREV</title><link>https://pietraferreira.github.io/quartz/notes/daily/testing-relaxation-corev/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pietraferreira.github.io/quartz/notes/daily/testing-relaxation-corev/</guid><description>Testing Relaxation - COREV readelf -r on .o files -&amp;gt; looks for particular relocations -&amp;gt; instead of -a it checks if we&amp;rsquo;re getting the right relocation</description></item></channel></rss>