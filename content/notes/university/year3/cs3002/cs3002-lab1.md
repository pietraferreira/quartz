---
title:  "Introduction to R"
tags:
  - university
module: cs3002
lecturer: 'Allan Tucker'
created: 2023-09-12
type: lab
year: '3'
---
---
The lab sheet can be found [here](assets/university/year3/R_IntroLab_v3.pdf).

# Notes
---
- R is **case-sensitive**, so `view` doesn't work but `View` does.
- To create scatterplots:
    - Column name:
        - `plot(mydata$column1, mydata$column2)`
    - Column location:
        - `plot(mydata[,9], mydata[,11])`
    - Histogram:
        - `hist(mydata$temp)`
    - Line plot:
        - `plot(mydata$temp, type="l")`
    - Plot colours, for example X and Y according to temperature:
        - `plot(mydata$X, mydata$Y, col=mydata$temp)`
- Statistics:
    - Mean, median, maximum and minimum:
        - `meantemp = mean(mydata$temp)`
- Write to a file:
    - `write.csv(meantemp, file = "output.csv")`
- Build a linear model:
    ```r
    plot(mydata$temp, mydata$ISI)
    lmfire=line(mydata$ISI~mydata$temp)
    abline(coef(lmfire))
    ```

## A (very) short introduction to R
---
R is for statistical computing and graphics, and iti s a public domain (GNU) project.

To set the working directory: `setwd("/Users/pietra/etc")`.

To check the installed packages: `library()` in the console.
- To install: `install.packages("geometry")`.
- We then load: `library("geometry")`.

To remove all variables from memory: `rm(list=ls())`.

To define a vector we use **c** meaning **concatenate**: `b=c(3,4,5)`.

- `rnorm()`: creates random samples from a normal distribution.
    - `rnorm(10, mean=1.2, sd=3.4)`.

We can then do something like:

```r
x = rnorm(100)
plot(x)
```

In doubt, we can do `help(rnorm)` or even `example(rnorm)`.

- `CTRL+SHIFT+S` runs the whole script, whereas `CTRL+ENTER` runs a line.

### Vectors
---
**WE INDEX FROM 1, NOT 0!!!**

- To construct: `vec1 = c(1,4,5,8,10)`.
    - Alternatively: `vec1 = seq(from=0, to=1, by=0.25)`.
- To change a value: `vec1[3] = 12`.
- We can then do things like: `sum(vec1)`.

### Matrices
---
2-d vectors.

- To construct: `mat=matrix(data=c(9,2,3,4,5,6),ncol=3)`.
    - Can also specify `nrow`.
    - We get:

|        | \[,1\] | \[,2\] | \[,3\] |
| ------ | ------ | ------ | ------ |
| \[1,\] | 9      | 3      | 5      |
| \[2,\] | 2      | 4      | 6      | 

Some operations are: 
- Address an element: `mat[1,2]`.
- Select a whole row: `mat[2,]`.
- Function example: `mean(mat)`.

### Data frames
---
A matrix with names above the columns.

```r
> t = data.frame(x = c(11,12,14), y = c(19,20,21), z = c(10,9,7))

> t
  x y z
 11 19 10
 12 20 9
 14 21 7

> mean(t$z)
8.666667

> mean(t[["z"]])
8.66666
```

# R Cheatsheets
---
- [Graph Parameters CheatSheet](assets/university/year3/R_Graph_Parameters_CheatSheet.pdf).
- [Base R CheatSheet](assets/university/year3/Base_R_CheatSheet.pdf).
- [Data Transformation CheatSheet](assets/university/year3/R_Data_Transformation_CheatSheet.pdf).

- Full manual [here](http://cran.r-project.org/doc/manuals/%20R-intro.pdf).
- Short [reference card](http://zoonek2.free.fr/UNIX/48_R/all.html).
- Examples [here](http://rwiki.sciviews.org/doku.php).
- Typical [user wiki](http://www.statmethods.net/).

# Commands
---
```r
mydata = read.csv('/Users/pietra/projects/university/year3/cs3002/lab1/forestfires.csv', sep=',')

plot(mydata)
View(mydata)

plot(mydata$column1, mydata$column2)
plot(mydata[,9], mydata[,11])
hist(mydata$temp)
plot(mydata$temp, type="l")
plot(mydata$X, mydata$Y, col=mydata$temp)
meantemp = mean(mydata$temp)
write.csv(meantemp, file = "output.csv")

plot(mydata$temp, mydata$ISI)
lmfire=line(mydata$ISI~mydata$temp)
abline(coef(lmfire))
```